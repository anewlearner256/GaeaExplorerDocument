:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in GaaeExplorer's source tree.
.. DO NOT EDIT THIS FILE, but the RichTextLabel.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_RichTextLabel:

RichTextLabel
=============

**Inherits:** :ref:`Control<class_Control>` **<** :ref:`CanvasItem<class_CanvasItem>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

显示富文本的标签。

描述
----

富文本可以包含自定义文本、字体、图像和一些基本格式。该标签会将这些以内部标签堆栈的形式进行管理。它还可以适应给定的宽度/高度。

\ **注意：**\ 为 :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>` 设置内容会清除标签堆栈并根据该属性的内容重建。对 :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>` 所做的任何编辑都将删除先前从其他手动来源（例如 :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` 和 ``push_*`` / :ref:`pop<class_RichTextLabel_method_pop>` 方法）所做的编辑。

\ **注意：**\ RichTextLabel 不支持纠缠的 BBCode 标签。例如，不要使用 ``[b]bold[i]bold italic[/b]italic[/i]``\ ，应该使用 ``[b]bold[i]bold italic[/i][/b][i]italic[/i]``\ 。

\ **注意：**\ ``push_*/pop`` 函数不会影响 BBCode。

\ **注意：**\ 与 :ref:`Label<class_Label>` 不同，RichTextLabel 没有可以将文本水平居中对其的\ *属性*\ 。不过你可以启用 :ref:`bbcode_enabled<class_RichTextLabel_property_bbcode_enabled>` 并将文本括在 ``[center]`` 标签中，类似：\ ``[center]例子[/center]``\ 。目前也没有垂直对齐文本的内置方法，但这可以通过依赖锚点/容器和 :ref:`fit_content_height<class_RichTextLabel_property_fit_content_height>` 属性来模拟。

\ **注意：**\ Windows 上\ *不支持* ``0xffff`` 之后的 Unicode 字符（例如大多数表情符号）。它们将显示为未知字符。这将在 GaaeExplorer 4.0 中解决。

教程
----

- :doc:`BBCode in RichTextLabel <../tutorials/ui/bbcode_in_richtextlabel>`

- `GUI Rich Text/BBcode Demo <https://godotengine.org/asset-library/asset/132>`__

- `OS Test Demo <https://godotengine.org/asset-library/asset/677>`__

属性
----

+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`bbcode_enabled<class_RichTextLabel_property_bbcode_enabled>`                             | ``false``                                                                     |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`String<class_String>` | :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>`                                   | ``""``                                                                        |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`Array<class_Array>`   | :ref:`custom_effects<class_RichTextLabel_property_custom_effects>`                             | ``[  ]``                                                                      |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`fit_content_height<class_RichTextLabel_property_fit_content_height>`                     | ``false``                                                                     |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`meta_underlined<class_RichTextLabel_property_meta_underlined>`                           | ``true``                                                                      |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`override_selected_font_color<class_RichTextLabel_property_override_selected_font_color>` | ``false``                                                                     |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`float<class_float>`   | :ref:`percent_visible<class_RichTextLabel_property_percent_visible>`                           | ``1.0``                                                                       |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | rect_clip_content                                                                              | ``true`` (overrides :ref:`Control<class_Control_property_rect_clip_content>`) |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`scroll_active<class_RichTextLabel_property_scroll_active>`                               | ``true``                                                                      |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`scroll_following<class_RichTextLabel_property_scroll_following>`                         | ``false``                                                                     |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`     | :ref:`selection_enabled<class_RichTextLabel_property_selection_enabled>`                       | ``false``                                                                     |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`int<class_int>`       | :ref:`tab_size<class_RichTextLabel_property_tab_size>`                                         | ``4``                                                                         |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`String<class_String>` | :ref:`text<class_RichTextLabel_property_text>`                                                 | ``""``                                                                        |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`int<class_int>`       | :ref:`visible_characters<class_RichTextLabel_property_visible_characters>`                     | ``-1``                                                                        |
+-----------------------------+------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+

方法
----

+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`add_image<class_RichTextLabel_method_add_image>` **(** :ref:`Texture<class_Texture>` image, :ref:`int<class_int>` width=0, :ref:`int<class_int>` height=0 **)**                    |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`add_text<class_RichTextLabel_method_add_text>` **(** :ref:`String<class_String>` text **)**                                                                                        |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>` | :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` **(** :ref:`String<class_String>` bbcode **)**                                                                            |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`clear<class_RichTextLabel_method_clear>` **(** **)**                                                                                                                               |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                 | :ref:`get_content_height<class_RichTextLabel_method_get_content_height>` **(** **)** |const|                                                                                             |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                 | :ref:`get_line_count<class_RichTextLabel_method_get_line_count>` **(** **)** |const|                                                                                                     |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                 | :ref:`get_total_character_count<class_RichTextLabel_method_get_total_character_count>` **(** **)** |const|                                                                               |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`VScrollBar<class_VScrollBar>`   | :ref:`get_v_scroll<class_RichTextLabel_method_get_v_scroll>` **(** **)**                                                                                                                 |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                 | :ref:`get_visible_line_count<class_RichTextLabel_method_get_visible_line_count>` **(** **)** |const|                                                                                     |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`install_effect<class_RichTextLabel_method_install_effect>` **(** :ref:`Variant<class_Variant>` effect **)**                                                                        |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`newline<class_RichTextLabel_method_newline>` **(** **)**                                                                                                                           |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>` | :ref:`parse_bbcode<class_RichTextLabel_method_parse_bbcode>` **(** :ref:`String<class_String>` bbcode **)**                                                                              |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Dictionary<class_Dictionary>`   | :ref:`parse_expressions_for_values<class_RichTextLabel_method_parse_expressions_for_values>` **(** :ref:`PoolStringArray<class_PoolStringArray>` expressions **)**                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`pop<class_RichTextLabel_method_pop>` **(** **)**                                                                                                                                   |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_align<class_RichTextLabel_method_push_align>` **(** :ref:`Align<enum_RichTextLabel_Align>` align **)**                                                                        |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_bold<class_RichTextLabel_method_push_bold>` **(** **)**                                                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_bold_italics<class_RichTextLabel_method_push_bold_italics>` **(** **)**                                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_cell<class_RichTextLabel_method_push_cell>` **(** **)**                                                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_color<class_RichTextLabel_method_push_color>` **(** :ref:`Color<class_Color>` color **)**                                                                                     |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_font<class_RichTextLabel_method_push_font>` **(** :ref:`Font<class_Font>` font **)**                                                                                          |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_indent<class_RichTextLabel_method_push_indent>` **(** :ref:`int<class_int>` level **)**                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_italics<class_RichTextLabel_method_push_italics>` **(** **)**                                                                                                                 |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_list<class_RichTextLabel_method_push_list>` **(** :ref:`ListType<enum_RichTextLabel_ListType>` type **)**                                                                     |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_meta<class_RichTextLabel_method_push_meta>` **(** :ref:`Variant<class_Variant>` data **)**                                                                                    |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_mono<class_RichTextLabel_method_push_mono>` **(** **)**                                                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_normal<class_RichTextLabel_method_push_normal>` **(** **)**                                                                                                                   |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_strikethrough<class_RichTextLabel_method_push_strikethrough>` **(** **)**                                                                                                     |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_table<class_RichTextLabel_method_push_table>` **(** :ref:`int<class_int>` columns **)**                                                                                       |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`push_underline<class_RichTextLabel_method_push_underline>` **(** **)**                                                                                                             |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`               | :ref:`remove_line<class_RichTextLabel_method_remove_line>` **(** :ref:`int<class_int>` line **)**                                                                                        |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`scroll_to_line<class_RichTextLabel_method_scroll_to_line>` **(** :ref:`int<class_int>` line **)**                                                                                  |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`set_table_column_expand<class_RichTextLabel_method_set_table_column_expand>` **(** :ref:`int<class_int>` column, :ref:`bool<class_bool>` expand, :ref:`int<class_int>` ratio **)** |
+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

主题属性
--------

+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`default_color<class_RichTextLabel_theme_color_default_color>`             | ``Color( 1, 1, 1, 1 )``          |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_selected<class_RichTextLabel_theme_color_font_color_selected>` | ``Color( 0.49, 0.49, 0.49, 1 )`` |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_shadow<class_RichTextLabel_theme_color_font_color_shadow>`     | ``Color( 0, 0, 0, 0 )``          |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`selection_color<class_RichTextLabel_theme_color_selection_color>`         | ``Color( 0.1, 0.1, 1, 0.8 )``    |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`line_separation<class_RichTextLabel_theme_constant_line_separation>`      | ``1``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`shadow_as_outline<class_RichTextLabel_theme_constant_shadow_as_outline>`  | ``0``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`shadow_offset_x<class_RichTextLabel_theme_constant_shadow_offset_x>`      | ``1``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`shadow_offset_y<class_RichTextLabel_theme_constant_shadow_offset_y>`      | ``1``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`table_hseparation<class_RichTextLabel_theme_constant_table_hseparation>`  | ``3``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`table_vseparation<class_RichTextLabel_theme_constant_table_vseparation>`  | ``3``                            |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`bold_font<class_RichTextLabel_theme_font_bold_font>`                      |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`bold_italics_font<class_RichTextLabel_theme_font_bold_italics_font>`      |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`italics_font<class_RichTextLabel_theme_font_italics_font>`                |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`mono_font<class_RichTextLabel_theme_font_mono_font>`                      |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`normal_font<class_RichTextLabel_theme_font_normal_font>`                  |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`focus<class_RichTextLabel_theme_style_focus>`                             |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`normal<class_RichTextLabel_theme_style_normal>`                           |                                  |
+---------------------------------+---------------------------------------------------------------------------------+----------------------------------+

信号
----

.. _class_RichTextLabel_signal_meta_clicked:

- **meta_clicked** **(** :ref:`Variant<class_Variant>` meta **)**

当用户点击元标记之间的内容时触发。如果元是在文本中定义的，例如\ ``[url={"data"="hi"}]hi[/url]``\ ，则该信号的参数为\ :ref:`String<class_String>`\ 类型。如果需要特定类型或对象，则必须使用 :ref:`push_meta<class_RichTextLabel_method_push_meta>` 方法将数据手动插入标签堆栈。

----

.. _class_RichTextLabel_signal_meta_hover_ended:

- **meta_hover_ended** **(** :ref:`Variant<class_Variant>` meta **)**

当鼠标退出元标签时触发。

----

.. _class_RichTextLabel_signal_meta_hover_started:

- **meta_hover_started** **(** :ref:`Variant<class_Variant>` meta **)**

当鼠标进入元标签时触发。

枚举
----

.. _enum_RichTextLabel_Align:

.. _class_RichTextLabel_constant_ALIGN_LEFT:

.. _class_RichTextLabel_constant_ALIGN_CENTER:

.. _class_RichTextLabel_constant_ALIGN_RIGHT:

.. _class_RichTextLabel_constant_ALIGN_FILL:

enum **Align**:

- **ALIGN_LEFT** = **0** --- 使文本左对齐。

- **ALIGN_CENTER** = **1** --- 使文本居中。

- **ALIGN_RIGHT** = **2** --- 使文本右对齐。

- **ALIGN_FILL** = **3** --- 使文本填充宽度。

----

.. _enum_RichTextLabel_ListType:

.. _class_RichTextLabel_constant_LIST_NUMBERS:

.. _class_RichTextLabel_constant_LIST_LETTERS:

.. _class_RichTextLabel_constant_LIST_DOTS:

enum **ListType**:

- **LIST_NUMBERS** = **0** --- 每个列表项都有一个数字标记。

- **LIST_LETTERS** = **1** --- 每个列表项都有一个字母标记。

- **LIST_DOTS** = **2** --- 每个列表项都有一个实心圆圈标记。

----

.. _enum_RichTextLabel_ItemType:

.. _class_RichTextLabel_constant_ITEM_FRAME:

.. _class_RichTextLabel_constant_ITEM_TEXT:

.. _class_RichTextLabel_constant_ITEM_IMAGE:

.. _class_RichTextLabel_constant_ITEM_NEWLINE:

.. _class_RichTextLabel_constant_ITEM_FONT:

.. _class_RichTextLabel_constant_ITEM_COLOR:

.. _class_RichTextLabel_constant_ITEM_UNDERLINE:

.. _class_RichTextLabel_constant_ITEM_STRIKETHROUGH:

.. _class_RichTextLabel_constant_ITEM_ALIGN:

.. _class_RichTextLabel_constant_ITEM_INDENT:

.. _class_RichTextLabel_constant_ITEM_LIST:

.. _class_RichTextLabel_constant_ITEM_TABLE:

.. _class_RichTextLabel_constant_ITEM_FADE:

.. _class_RichTextLabel_constant_ITEM_SHAKE:

.. _class_RichTextLabel_constant_ITEM_WAVE:

.. _class_RichTextLabel_constant_ITEM_TORNADO:

.. _class_RichTextLabel_constant_ITEM_RAINBOW:

.. _class_RichTextLabel_constant_ITEM_CUSTOMFX:

.. _class_RichTextLabel_constant_ITEM_META:

enum **ItemType**:

- **ITEM_FRAME** = **0**

- **ITEM_TEXT** = **1**

- **ITEM_IMAGE** = **2**

- **ITEM_NEWLINE** = **3**

- **ITEM_FONT** = **4**

- **ITEM_COLOR** = **5**

- **ITEM_UNDERLINE** = **6**

- **ITEM_STRIKETHROUGH** = **7**

- **ITEM_ALIGN** = **8**

- **ITEM_INDENT** = **9**

- **ITEM_LIST** = **10**

- **ITEM_TABLE** = **11**

- **ITEM_FADE** = **12**

- **ITEM_SHAKE** = **13**

- **ITEM_WAVE** = **14**

- **ITEM_TORNADO** = **15**

- **ITEM_RAINBOW** = **16**

- **ITEM_CUSTOMFX** = **18**

- **ITEM_META** = **17**

属性说明
--------

.. _class_RichTextLabel_property_bbcode_enabled:

- :ref:`bool<class_bool>` **bbcode_enabled**

+-----------+-----------------------+
| *Default* | ``false``             |
+-----------+-----------------------+
| *Setter*  | set_use_bbcode(value) |
+-----------+-----------------------+
| *Getter*  | is_using_bbcode()     |
+-----------+-----------------------+

如果 ``true``\ ，标签使用 BBCode 格式。

\ **注意：** 尝试使用 :ref:`add_text<class_RichTextLabel_method_add_text>` 更改 ``RichTextLabel`` 的文本会将其重置为 ``false``\ 。改用 :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` 来保留 BBCode 格式。

----

.. _class_RichTextLabel_property_bbcode_text:

- :ref:`String<class_String>` **bbcode_text**

+-----------+-------------------+
| *Default* | ``""``            |
+-----------+-------------------+
| *Setter*  | set_bbcode(value) |
+-----------+-------------------+
| *Getter*  | get_bbcode()      |
+-----------+-------------------+

BBCode 格式的标签文本。不代表对内部标签栈的手动修改。编辑时擦除通过其他方法所做的更改。

\ **注意：** 不建议将 ``+=`` 运算符与 ``bbcode_text`` 一起使用（例如 ``bbcode_text += "some string"``\ ），因为它会替换整个文本并可能导致速度变慢。使用 :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` 代替添加文本，除非你必须关闭在先前方法调用中打开的标签。

----

.. _class_RichTextLabel_property_custom_effects:

- :ref:`Array<class_Array>` **custom_effects**

+-----------+--------------------+
| *Default* | ``[  ]``           |
+-----------+--------------------+
| *Setter*  | set_effects(value) |
+-----------+--------------------+
| *Getter*  | get_effects()      |
+-----------+--------------------+

当前配置的自定义效果。这是一个\ :ref:`RichTextEffect<class_RichTextEffect>`\ 的数组。

要添加一个自定义效果，使用\ :ref:`install_effect<class_RichTextLabel_method_install_effect>`\ 会更方便。

----

.. _class_RichTextLabel_property_fit_content_height:

- :ref:`bool<class_bool>` **fit_content_height**

+-----------+---------------------------------+
| *Default* | ``false``                       |
+-----------+---------------------------------+
| *Setter*  | set_fit_content_height(value)   |
+-----------+---------------------------------+
| *Getter*  | is_fit_content_height_enabled() |
+-----------+---------------------------------+

如果 ``true``\ ，标签的高度将自动更新以适应其内容。

\ **注意：** 此属性用作解决 :ref:`Container<class_Container>` 中 ``RichTextLabel`` 问题的解决方法，但在某些情况下不可靠，将在未来版本中删除。

----

.. _class_RichTextLabel_property_meta_underlined:

- :ref:`bool<class_bool>` **meta_underlined**

+-----------+---------------------------+
| *Default* | ``true``                  |
+-----------+---------------------------+
| *Setter*  | set_meta_underline(value) |
+-----------+---------------------------+
| *Getter*  | is_meta_underlined()      |
+-----------+---------------------------+

如果 ``true``\ ，则会在元标签下划线，例如 ``[url]{text}[/url]``\ 。

----

.. _class_RichTextLabel_property_override_selected_font_color:

- :ref:`bool<class_bool>` **override_selected_font_color**

+-----------+-----------------------------------------+
| *Default* | ``false``                               |
+-----------+-----------------------------------------+
| *Setter*  | set_override_selected_font_color(value) |
+-----------+-----------------------------------------+
| *Getter*  | is_overriding_selected_font_color()     |
+-----------+-----------------------------------------+

如果 ``true``\ ，则标签使用自定义字体颜色。

----

.. _class_RichTextLabel_property_percent_visible:

- :ref:`float<class_float>` **percent_visible**

+-----------+----------------------------+
| *Default* | ``1.0``                    |
+-----------+----------------------------+
| *Setter*  | set_percent_visible(value) |
+-----------+----------------------------+
| *Getter*  | get_percent_visible()      |
+-----------+----------------------------+

要显示的字符范围，数值为0.0和1.0之间的\ :ref:`float<class_float>`\ 。当分配一个超出范围的值时，它和分配1.0是一样的。

\ **注意：** 设置这个属性会根据当前的\ :ref:`get_total_character_count<class_RichTextLabel_method_get_total_character_count>`\ 更新\ :ref:`visible_characters<class_RichTextLabel_property_visible_characters>`\ 。

----

.. _class_RichTextLabel_property_scroll_active:

- :ref:`bool<class_bool>` **scroll_active**

+-----------+--------------------------+
| *Default* | ``true``                 |
+-----------+--------------------------+
| *Setter*  | set_scroll_active(value) |
+-----------+--------------------------+
| *Getter*  | is_scroll_active()       |
+-----------+--------------------------+

如果 ``true``\ ，则滚动条可见。将此设置为 ``false`` 不会完全阻止滚动。见\ :ref:`scroll_to_line<class_RichTextLabel_method_scroll_to_line>`\ 。

----

.. _class_RichTextLabel_property_scroll_following:

- :ref:`bool<class_bool>` **scroll_following**

+-----------+--------------------------+
| *Default* | ``false``                |
+-----------+--------------------------+
| *Setter*  | set_scroll_follow(value) |
+-----------+--------------------------+
| *Getter*  | is_scroll_following()    |
+-----------+--------------------------+

如果 ``true``\ ，则窗口向下滚动以自动显示新内容。

----

.. _class_RichTextLabel_property_selection_enabled:

- :ref:`bool<class_bool>` **selection_enabled**

+-----------+------------------------------+
| *Default* | ``false``                    |
+-----------+------------------------------+
| *Setter*  | set_selection_enabled(value) |
+-----------+------------------------------+
| *Getter*  | is_selection_enabled()       |
+-----------+------------------------------+

如果 ``true``\ ，标签允许文本选择。

----

.. _class_RichTextLabel_property_tab_size:

- :ref:`int<class_int>` **tab_size**

+-----------+---------------------+
| *Default* | ``4``               |
+-----------+---------------------+
| *Setter*  | set_tab_size(value) |
+-----------+---------------------+
| *Getter*  | get_tab_size()      |
+-----------+---------------------+

The number of spaces associated with a single tab length. Does not affect ``\t`` in text tags, only indent tags.

----

.. _class_RichTextLabel_property_text:

- :ref:`String<class_String>` **text**

+-----------+-----------------+
| *Default* | ``""``          |
+-----------+-----------------+
| *Setter*  | set_text(value) |
+-----------+-----------------+
| *Getter*  | get_text()      |
+-----------+-----------------+

标签的原始文本。

设置后，清除标签堆栈并在其顶部添加一个原始文本标签。不解析 BBCode。不修改 :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>`\ 。

----

.. _class_RichTextLabel_property_visible_characters:

- :ref:`int<class_int>` **visible_characters**

+-----------+-------------------------------+
| *Default* | ``-1``                        |
+-----------+-------------------------------+
| *Setter*  | set_visible_characters(value) |
+-----------+-------------------------------+
| *Getter*  | get_visible_characters()      |
+-----------+-------------------------------+

在标签中显示的字符数限制。如果\ ``-1``\ ，将显示所有字符。

\ **注意：** 设置此属性会根据当前的\ :ref:`get_total_character_count<class_RichTextLabel_method_get_total_character_count>`\ 更新\ :ref:`percent_visible<class_RichTextLabel_property_percent_visible>`\ 。

方法说明
--------

.. _class_RichTextLabel_method_add_image:

- void **add_image** **(** :ref:`Texture<class_Texture>` image, :ref:`int<class_int>` width=0, :ref:`int<class_int>` height=0 **)**

将图像的开头和结尾标签添加到标签堆中，可以选择提供 ``width`` 和 ``height`` 来调整图像的大小。

如果 ``width`` 或 ``height`` 被设置为 0，图像的大小被调整为保持原始长宽比。

----

.. _class_RichTextLabel_method_add_text:

- void **add_text** **(** :ref:`String<class_String>` text **)**

将非 BBCode 解析的原始文本添加到标签栈中。

----

.. _class_RichTextLabel_method_append_bbcode:

- :ref:`Error<enum_@GlobalScope_Error>` **append_bbcode** **(** :ref:`String<class_String>` bbcode **)**

解析 ``bbcode`` 并根据需要将标签添加到标签堆栈中。返回解析结果，成功则返回 :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>`\ 。

\ **注意：** 使用此方法，您无法关闭在之前的 :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` 调用中打开的标签。这样做是为了提高性能，特别是在更新大型 RichTextLabel 时，因为每次重建整个 BBCode 会更慢。如果您绝对需要在将来的方法调用中关闭标签，请附加 :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>` 而不是使用 :ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>`\ 。

----

.. _class_RichTextLabel_method_clear:

- void **clear** **(** **)**

清除标记堆栈并将 :ref:`bbcode_text<class_RichTextLabel_property_bbcode_text>` 设置为空字符串。

----

.. _class_RichTextLabel_method_get_content_height:

- :ref:`int<class_int>` **get_content_height** **(** **)** |const|

返回内容的高度。

----

.. _class_RichTextLabel_method_get_line_count:

- :ref:`int<class_int>` **get_line_count** **(** **)** |const|

返回标签栈中文本标签的换行总数。将被包裹的文本视为一行。

----

.. _class_RichTextLabel_method_get_total_character_count:

- :ref:`int<class_int>` **get_total_character_count** **(** **)** |const|

返回文本标签的总字符数。不包括 BBCode。

----

.. _class_RichTextLabel_method_get_v_scroll:

- :ref:`VScrollBar<class_VScrollBar>` **get_v_scroll** **(** **)**

返回垂直滚动条。

\ **警告：** 这是一个必需的内部节点，删除和释放它可能会导致崩溃。如果您希望隐藏它或其任何子项，请使用它们的 :ref:`CanvasItem.visible<class_CanvasItem_property_visible>` 属性。

----

.. _class_RichTextLabel_method_get_visible_line_count:

- :ref:`int<class_int>` **get_visible_line_count** **(** **)** |const|

返回可见行数。

----

.. _class_RichTextLabel_method_install_effect:

- void **install_effect** **(** :ref:`Variant<class_Variant>` effect **)**

安装自定义效果。 ``effect`` 应该是一个有效的 :ref:`RichTextEffect<class_RichTextEffect>`\ 。

----

.. _class_RichTextLabel_method_newline:

- void **newline** **(** **)**

在标签堆中添加一个换行标签。

----

.. _class_RichTextLabel_method_parse_bbcode:

- :ref:`Error<enum_@GlobalScope_Error>` **parse_bbcode** **(** :ref:`String<class_String>` bbcode **)**

:ref:`append_bbcode<class_RichTextLabel_method_append_bbcode>` 的指定版本。清除标记堆栈并插入新内容。如果成功解析 ``bbcode``\ ，则返回 :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>`\ 。

----

.. _class_RichTextLabel_method_parse_expressions_for_values:

- :ref:`Dictionary<class_Dictionary>` **parse_expressions_for_values** **(** :ref:`PoolStringArray<class_PoolStringArray>` expressions **)**

将 BBCode 参数 ``expressions`` 解析为字典。

----

.. _class_RichTextLabel_method_pop:

- void **pop** **(** **)**

终止当前标签。使用 ``push_*`` 方法之后手动关闭 BBCodes。不需要遵循 ``add_*`` 方法。

----

.. _class_RichTextLabel_method_push_align:

- void **push_align** **(** :ref:`Align<enum_RichTextLabel_Align>` align **)**

根据给定的\ ``[align]``\ 值，添加一个\ ``align``\ 标签。可能的值见\ :ref:`Align<enum_RichTextLabel_Align>`\ 。

----

.. _class_RichTextLabel_method_push_bold:

- void **push_bold** **(** **)**

在标签堆中添加一个\ ``[font]``\ 标签，字体为黑体。如果当前没有\ ``[i]``\ 标签，这与添加一个\ ``[b]``\ 标签相同。

----

.. _class_RichTextLabel_method_push_bold_italics:

- void **push_bold_italics** **(** **)**

在标签堆中添加一个\ ``[font]``\ 标签，字体为粗斜体。

----

.. _class_RichTextLabel_method_push_cell:

- void **push_cell** **(** **)**

将一个\ ``[cell]``\ 标签添加到标签堆中。必须在一个\ ``[table]``\ 标签内。详情见\ :ref:`push_table<class_RichTextLabel_method_push_table>`\ 。

----

.. _class_RichTextLabel_method_push_color:

- void **push_color** **(** :ref:`Color<class_Color>` color **)**

将一个\ ``[color]``\ 标签添加到标签堆。

----

.. _class_RichTextLabel_method_push_font:

- void **push_font** **(** :ref:`Font<class_Font>` font **)**

将一个\ ``[font]``\ 标签添加到标签堆中。在其有效期内覆盖默认字体。

----

.. _class_RichTextLabel_method_push_indent:

- void **push_indent** **(** :ref:`int<class_int>` level **)**

将 ``[indent]`` 标签添加到标签堆栈。将 ``level`` 乘以当前 :ref:`tab_size<class_RichTextLabel_property_tab_size>` 以确定新的边距长度。

----

.. _class_RichTextLabel_method_push_italics:

- void **push_italics** **(** **)**

在标签堆中添加一个\ ``[font]``\ 标签，字体为斜体。如果当前没有\ ``[b]``\ 标签，这与添加\ ``[i]``\ 标签相同。

----

.. _class_RichTextLabel_method_push_list:

- void **push_list** **(** :ref:`ListType<enum_RichTextLabel_ListType>` type **)**

在标签栈中添加一个\ ``[list]``\ 标签。类似于BBCodes ``[ol]`` 或 ``[ul]`` ，但支持更多的列表类型。未完全实现!

----

.. _class_RichTextLabel_method_push_meta:

- void **push_meta** **(** :ref:`Variant<class_Variant>` data **)**

添加一个\ ``[meta]``\ 标签到标签堆中。类似于BBCode ``[url=something]{text}[/url]``\ ，但支持非\ :ref:`String<class_String>`\ 元数据类型。

----

.. _class_RichTextLabel_method_push_mono:

- void **push_mono** **(** **)**

在标签堆中添加一个\ ``[font]``\ 标签，该标签为等宽字体。

----

.. _class_RichTextLabel_method_push_normal:

- void **push_normal** **(** **)**

在标签堆中添加一个具有正常字体的\ ``[font]``\ 标签。

----

.. _class_RichTextLabel_method_push_strikethrough:

- void **push_strikethrough** **(** **)**

将一个\ ``[s]``\ 标签添加到标签堆中。

----

.. _class_RichTextLabel_method_push_table:

- void **push_table** **(** :ref:`int<class_int>` columns **)**

将一个\ ``[table=columns]``\ 标签添加到标签栈。

----

.. _class_RichTextLabel_method_push_underline:

- void **push_underline** **(** **)**

将一个\ ``[u]``\ 标签添加到标签堆中。

----

.. _class_RichTextLabel_method_remove_line:

- :ref:`bool<class_bool>` **remove_line** **(** :ref:`int<class_int>` line **)**

删除标签中的一行内容。如果该行存在，则返回 ``true``\ 。

参数 ``line`` 是要删除的行的索引，可以在 ``[0, get_line_count() - 1]`` 的区间内取值。

----

.. _class_RichTextLabel_method_scroll_to_line:

- void **scroll_to_line** **(** :ref:`int<class_int>` line **)**

滚动窗口的顶行以匹配\ ``line``\ 。

----

.. _class_RichTextLabel_method_set_table_column_expand:

- void **set_table_column_expand** **(** :ref:`int<class_int>` column, :ref:`bool<class_bool>` expand, :ref:`int<class_int>` ratio **)**

编辑选中的列的扩展选项。如果\ ``expand``\ 是\ ``true``\ ，该列会按其扩展比例与其他列的比例进行扩展。

例如，2个比率为3和4的列加上70像素的可用宽度将分别扩展30和40像素。

如果\ ``expand``\ 是\ ``false``\ ，该列将不会对总的比例产生影响。

Theme Property Descriptions
---------------------------

.. _class_RichTextLabel_theme_color_default_color:

- :ref:`Color<class_Color>` **default_color**

+-----------+-------------------------+
| *Default* | ``Color( 1, 1, 1, 1 )`` |
+-----------+-------------------------+

默认文本颜色。

----

.. _class_RichTextLabel_theme_color_font_color_selected:

- :ref:`Color<class_Color>` **font_color_selected**

+-----------+----------------------------------+
| *Default* | ``Color( 0.49, 0.49, 0.49, 1 )`` |
+-----------+----------------------------------+

选定文本的颜色(当\ :ref:`selection_enabled<class_RichTextLabel_property_selection_enabled>`\ 为\ ``true``\ 时使用)。

----

.. _class_RichTextLabel_theme_color_font_color_shadow:

- :ref:`Color<class_Color>` **font_color_shadow**

+-----------+-------------------------+
| *Default* | ``Color( 0, 0, 0, 0 )`` |
+-----------+-------------------------+

字体阴影的颜色。

----

.. _class_RichTextLabel_theme_color_selection_color:

- :ref:`Color<class_Color>` **selection_color**

+-----------+-------------------------------+
| *Default* | ``Color( 0.1, 0.1, 1, 0.8 )`` |
+-----------+-------------------------------+

选择框的颜色。

----

.. _class_RichTextLabel_theme_constant_line_separation:

- :ref:`int<class_int>` **line_separation**

+-----------+-------+
| *Default* | ``1`` |
+-----------+-------+

行之间的垂直空间。

----

.. _class_RichTextLabel_theme_constant_shadow_as_outline:

- :ref:`int<class_int>` **shadow_as_outline**

+-----------+-------+
| *Default* | ``0`` |
+-----------+-------+

布尔值。如果是1（\ ``true``\ ），阴影将以轮廓的形式围绕整个文本显示。

----

.. _class_RichTextLabel_theme_constant_shadow_offset_x:

- :ref:`int<class_int>` **shadow_offset_x**

+-----------+-------+
| *Default* | ``1`` |
+-----------+-------+

字体阴影的水平偏移量。

----

.. _class_RichTextLabel_theme_constant_shadow_offset_y:

- :ref:`int<class_int>` **shadow_offset_y**

+-----------+-------+
| *Default* | ``1`` |
+-----------+-------+

字体阴影的垂直偏移。

----

.. _class_RichTextLabel_theme_constant_table_hseparation:

- :ref:`int<class_int>` **table_hseparation**

+-----------+-------+
| *Default* | ``3`` |
+-----------+-------+

表中元素的水平间距。

----

.. _class_RichTextLabel_theme_constant_table_vseparation:

- :ref:`int<class_int>` **table_vseparation**

+-----------+-------+
| *Default* | ``3`` |
+-----------+-------+

表中元素的垂直间距。

----

.. _class_RichTextLabel_theme_font_bold_font:

- :ref:`Font<class_Font>` **bold_font**

用于粗体字的字体。

----

.. _class_RichTextLabel_theme_font_bold_italics_font:

- :ref:`Font<class_Font>` **bold_italics_font**

用于粗斜体文字的字体。

----

.. _class_RichTextLabel_theme_font_italics_font:

- :ref:`Font<class_Font>` **italics_font**

用于斜体字的字体。

----

.. _class_RichTextLabel_theme_font_mono_font:

- :ref:`Font<class_Font>` **mono_font**

用于等宽文本的字体。

----

.. _class_RichTextLabel_theme_font_normal_font:

- :ref:`Font<class_Font>` **normal_font**

默认的文本字体。

----

.. _class_RichTextLabel_theme_style_focus:

- :ref:`StyleBox<class_StyleBox>` **focus**

``RichTextLabel`` 获得焦点时使用的背景。

----

.. _class_RichTextLabel_theme_style_normal:

- :ref:`StyleBox<class_StyleBox>` **normal**

``RichTextLabel`` 的正常背景。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
