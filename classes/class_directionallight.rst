:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in GaaeExplorer's source tree.
.. DO NOT EDIT THIS FILE, but the DirectionalLight.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_DirectionalLight:

DirectionalLight
================

**Inherits:** :ref:`Light<class_Light>` **<** :ref:`VisualInstance<class_VisualInstance>` **<** :ref:`CullInstance<class_CullInstance>` **<** :ref:`Spatial<class_Spatial>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

来自远处的平行光源，如太阳光。

描述
----

平行光是一种 :ref:`Light<class_Light>` 类型的节点，它可以模拟出覆盖整个场景的无限多的平行光线。可以用作离场景很远、具有强烈强度的灯光，模拟太阳光或月光。DirectionalLight 变换的世界空间坐标（原点）会被忽略。只有基点会被用来确定光线方向。

教程
----

- :doc:`../tutorials/3d/lights_and_shadows`

属性
----

+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_bias_split_scale<class_DirectionalLight_property_directional_shadow_bias_split_scale>` | ``0.25``                                                           |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`bool<class_bool>`                                         | :ref:`directional_shadow_blend_splits<class_DirectionalLight_property_directional_shadow_blend_splits>`         | ``false``                                                          |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`ShadowDepthRange<enum_DirectionalLight_ShadowDepthRange>` | :ref:`directional_shadow_depth_range<class_DirectionalLight_property_directional_shadow_depth_range>`           | ``0``                                                              |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_max_distance<class_DirectionalLight_property_directional_shadow_max_distance>`         | ``100.0``                                                          |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`ShadowMode<enum_DirectionalLight_ShadowMode>`             | :ref:`directional_shadow_mode<class_DirectionalLight_property_directional_shadow_mode>`                         | ``2``                                                              |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_normal_bias<class_DirectionalLight_property_directional_shadow_normal_bias>`           | ``0.8``                                                            |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_split_1<class_DirectionalLight_property_directional_shadow_split_1>`                   | ``0.1``                                                            |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_split_2<class_DirectionalLight_property_directional_shadow_split_2>`                   | ``0.2``                                                            |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | :ref:`directional_shadow_split_3<class_DirectionalLight_property_directional_shadow_split_3>`                   | ``0.5``                                                            |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
| :ref:`float<class_float>`                                       | shadow_bias                                                                                                     | ``0.1`` (overrides :ref:`Light<class_Light_property_shadow_bias>`) |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+

枚举
----

.. _enum_DirectionalLight_ShadowMode:

.. _class_DirectionalLight_constant_SHADOW_ORTHOGONAL:

.. _class_DirectionalLight_constant_SHADOW_PARALLEL_2_SPLITS:

.. _class_DirectionalLight_constant_SHADOW_PARALLEL_4_SPLITS:

enum **ShadowMode**:

- **SHADOW_ORTHOGONAL** = **0** --- 从正交的角度渲染整个场景的阴影图。这是最快的方向性阴影模式。可能会导致近距离物体的阴影更模糊。

- **SHADOW_PARALLEL_2_SPLITS** = **1** --- 将视图分割成2个区域，每个区域都有自己的阴影图。这个阴影模式是\ :ref:`SHADOW_ORTHOGONAL<class_DirectionalLight_constant_SHADOW_ORTHOGONAL>`\ 和\ :ref:`SHADOW_PARALLEL_4_SPLITS<class_DirectionalLight_constant_SHADOW_PARALLEL_4_SPLITS>`\ 在性能上的折中。

- **SHADOW_PARALLEL_4_SPLITS** = **2** --- 将视图frustum分成4个区域，每个区域都有自己的阴影图。这是最慢的方向性阴影模式。

----

.. _enum_DirectionalLight_ShadowDepthRange:

.. _class_DirectionalLight_constant_SHADOW_DEPTH_RANGE_STABLE:

.. _class_DirectionalLight_constant_SHADOW_DEPTH_RANGE_OPTIMIZED:

enum **ShadowDepthRange**:

- **SHADOW_DEPTH_RANGE_STABLE** = **0** --- 当相机移动时，保持影子稳定，但代价是降低有效影子分辨率。

- **SHADOW_DEPTH_RANGE_OPTIMIZED** = **1** --- 尝试实现最大的阴影分辨率。可能导致阴影边缘出现锯齿效果。此模式通常在相机经常高速移动的游戏中效果最好，例如大多数赛车游戏。

属性说明
--------

.. _class_DirectionalLight_property_directional_shadow_bias_split_scale:

- :ref:`float<class_float>` **directional_shadow_bias_split_scale**

+-----------+------------------+
| *Default* | ``0.25``         |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

远处阴影分裂的额外偏置量。如果自身阴影只产生远处的分裂，增加这个值可以修复它们。

----

.. _class_DirectionalLight_property_directional_shadow_blend_splits:

- :ref:`bool<class_bool>` **directional_shadow_blend_splits**

+-----------+---------------------------+
| *Default* | ``false``                 |
+-----------+---------------------------+
| *Setter*  | set_blend_splits(value)   |
+-----------+---------------------------+
| *Getter*  | is_blend_splits_enabled() |
+-----------+---------------------------+

如果\ ``true``\ ，则会牺牲阴影细节，以换取更平滑的分割之间的过渡。

----

.. _class_DirectionalLight_property_directional_shadow_depth_range:

- :ref:`ShadowDepthRange<enum_DirectionalLight_ShadowDepthRange>` **directional_shadow_depth_range**

+-----------+-------------------------------+
| *Default* | ``0``                         |
+-----------+-------------------------------+
| *Setter*  | set_shadow_depth_range(value) |
+-----------+-------------------------------+
| *Getter*  | get_shadow_depth_range()      |
+-----------+-------------------------------+

优化阴影渲染的细节与运动。参阅\ :ref:`ShadowDepthRange<enum_DirectionalLight_ShadowDepthRange>`\ 。

----

.. _class_DirectionalLight_property_directional_shadow_max_distance:

- :ref:`float<class_float>` **directional_shadow_max_distance**

+-----------+------------------+
| *Default* | ``100.0``        |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

阴影分割的最大距离。

----

.. _class_DirectionalLight_property_directional_shadow_mode:

- :ref:`ShadowMode<enum_DirectionalLight_ShadowMode>` **directional_shadow_mode**

+-----------+------------------------+
| *Default* | ``2``                  |
+-----------+------------------------+
| *Setter*  | set_shadow_mode(value) |
+-----------+------------------------+
| *Getter*  | get_shadow_mode()      |
+-----------+------------------------+

灯光的阴影渲染算法。参阅\ :ref:`ShadowMode<enum_DirectionalLight_ShadowMode>`\ 。

----

.. _class_DirectionalLight_property_directional_shadow_normal_bias:

- :ref:`float<class_float>` **directional_shadow_normal_bias**

+-----------+------------------+
| *Default* | ``0.8``          |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

当物体垂直于光线时，可用于修复自身阴影的特殊情况。

----

.. _class_DirectionalLight_property_directional_shadow_split_1:

- :ref:`float<class_float>` **directional_shadow_split_1**

+-----------+------------------+
| *Default* | ``0.1``          |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

相机到影子分割1的距离。相对于\ :ref:`directional_shadow_max_distance<class_DirectionalLight_property_directional_shadow_max_distance>`\ 。只有当\ :ref:`directional_shadow_mode<class_DirectionalLight_property_directional_shadow_mode>`\ 是\ ``SHADOW_PARALLEL_2_SPLITS``\ 或\ ``SHADOW_PARALLEL_4_SPLITS``\ 时才使用。

----

.. _class_DirectionalLight_property_directional_shadow_split_2:

- :ref:`float<class_float>` **directional_shadow_split_2**

+-----------+------------------+
| *Default* | ``0.2``          |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

阴影分割1到分割2的距离。相对于\ :ref:`directional_shadow_max_distance<class_DirectionalLight_property_directional_shadow_max_distance>`\ 。仅在\ :ref:`directional_shadow_mode<class_DirectionalLight_property_directional_shadow_mode>`\ 为\ ``SHADOW_PARALLEL_2_SPLITS``\ 或\ ``SHADOW_PARALLEL_4_SPLITS``\ 时使用。

----

.. _class_DirectionalLight_property_directional_shadow_split_3:

- :ref:`float<class_float>` **directional_shadow_split_3**

+-----------+------------------+
| *Default* | ``0.5``          |
+-----------+------------------+
| *Setter*  | set_param(value) |
+-----------+------------------+
| *Getter*  | get_param()      |
+-----------+------------------+

从影子分割2到分割3的距离。相对于\ :ref:`directional_shadow_max_distance<class_DirectionalLight_property_directional_shadow_max_distance>`\ 。只有当\ :ref:`directional_shadow_mode<class_DirectionalLight_property_directional_shadow_mode>`\ 为\ ``SHADOW_PARALLEL_4_SPLITS``\ 时才使用。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
