:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in GaaeExplorer's source tree.
.. DO NOT EDIT THIS FILE, but the OptionButton.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_OptionButton:

OptionButton
============

**Inherits:** :ref:`Button<class_Button>` **<** :ref:`BaseButton<class_BaseButton>` **<** :ref:`Control<class_Control>` **<** :ref:`CanvasItem<class_CanvasItem>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

按下时提供可选选项的按钮控件。

描述
----

OptionButton 是一种类型按钮，可在按下时提供可选择的项目列表。所选项目成为“当前”项目并显示为按钮文本。

另请参阅 :ref:`BaseButton<class_BaseButton>`\ ，其中包含与此节点关联的通用属性和方法。

属性
----

+-----------------------------------------------+-------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`ActionMode<enum_BaseButton_ActionMode>` | action_mode                                           | ``0`` (overrides :ref:`BaseButton<class_BaseButton_property_action_mode>`)    |
+-----------------------------------------------+-------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`TextAlign<enum_Button_TextAlign>`       | align                                                 | ``0`` (overrides :ref:`Button<class_Button_property_align>`)                  |
+-----------------------------------------------+-------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`selected<class_OptionButton_property_selected>` | ``-1``                                                                        |
+-----------------------------------------------+-------------------------------------------------------+-------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                       | toggle_mode                                           | ``true`` (overrides :ref:`BaseButton<class_BaseButton_property_toggle_mode>`) |
+-----------------------------------------------+-------------------------------------------------------+-------------------------------------------------------------------------------+

方法
----

+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`add_icon_item<class_OptionButton_method_add_icon_item>` **(** :ref:`Texture<class_Texture>` texture, :ref:`String<class_String>` label, :ref:`int<class_int>` id=-1 **)** |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`add_item<class_OptionButton_method_add_item>` **(** :ref:`String<class_String>` label, :ref:`int<class_int>` id=-1 **)**                                                  |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`add_separator<class_OptionButton_method_add_separator>` **(** **)**                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`clear<class_OptionButton_method_clear>` **(** **)**                                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`get_item_count<class_OptionButton_method_get_item_count>` **(** **)** |const|                                                                                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Texture<class_Texture>`     | :ref:`get_item_icon<class_OptionButton_method_get_item_icon>` **(** :ref:`int<class_int>` idx **)** |const|                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`get_item_id<class_OptionButton_method_get_item_id>` **(** :ref:`int<class_int>` idx **)** |const|                                                                         |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`get_item_index<class_OptionButton_method_get_item_index>` **(** :ref:`int<class_int>` id **)** |const|                                                                    |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Variant<class_Variant>`     | :ref:`get_item_metadata<class_OptionButton_method_get_item_metadata>` **(** :ref:`int<class_int>` idx **)** |const|                                                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`       | :ref:`get_item_text<class_OptionButton_method_get_item_text>` **(** :ref:`int<class_int>` idx **)** |const|                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PopupMenu<class_PopupMenu>` | :ref:`get_popup<class_OptionButton_method_get_popup>` **(** **)** |const|                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`get_selected_id<class_OptionButton_method_get_selected_id>` **(** **)** |const|                                                                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Variant<class_Variant>`     | :ref:`get_selected_metadata<class_OptionButton_method_get_selected_metadata>` **(** **)** |const|                                                                               |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`           | :ref:`is_item_disabled<class_OptionButton_method_is_item_disabled>` **(** :ref:`int<class_int>` idx **)** |const|                                                               |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`remove_item<class_OptionButton_method_remove_item>` **(** :ref:`int<class_int>` idx **)**                                                                                 |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`select<class_OptionButton_method_select>` **(** :ref:`int<class_int>` idx **)**                                                                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_item_disabled<class_OptionButton_method_set_item_disabled>` **(** :ref:`int<class_int>` idx, :ref:`bool<class_bool>` disabled **)**                                   |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_item_icon<class_OptionButton_method_set_item_icon>` **(** :ref:`int<class_int>` idx, :ref:`Texture<class_Texture>` texture **)**                                      |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_item_id<class_OptionButton_method_set_item_id>` **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` id **)**                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_item_metadata<class_OptionButton_method_set_item_metadata>` **(** :ref:`int<class_int>` idx, :ref:`Variant<class_Variant>` metadata **)**                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_item_text<class_OptionButton_method_set_item_text>` **(** :ref:`int<class_int>` idx, :ref:`String<class_String>` text **)**                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

主题属性
--------

+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color<class_OptionButton_theme_color_font_color>`                   | ``Color( 0.88, 0.88, 0.88, 1 )`` |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_disabled<class_OptionButton_theme_color_font_color_disabled>` | ``Color( 0.9, 0.9, 0.9, 0.2 )``  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_focus<class_OptionButton_theme_color_font_color_focus>`       | ``Color( 0.94, 0.94, 0.94, 1 )`` |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_hover<class_OptionButton_theme_color_font_color_hover>`       | ``Color( 0.94, 0.94, 0.94, 1 )`` |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Color<class_Color>`       | :ref:`font_color_pressed<class_OptionButton_theme_color_font_color_pressed>`   | ``Color( 1, 1, 1, 1 )``          |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`arrow_margin<class_OptionButton_theme_constant_arrow_margin>`            | ``2``                            |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`int<class_int>`           | :ref:`hseparation<class_OptionButton_theme_constant_hseparation>`              | ``2``                            |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Font<class_Font>`         | :ref:`font<class_OptionButton_theme_font_font>`                                |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`Texture<class_Texture>`   | :ref:`arrow<class_OptionButton_theme_icon_arrow>`                              |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`disabled<class_OptionButton_theme_style_disabled>`                       |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`focus<class_OptionButton_theme_style_focus>`                             |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`hover<class_OptionButton_theme_style_hover>`                             |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`normal<class_OptionButton_theme_style_normal>`                           |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+
| :ref:`StyleBox<class_StyleBox>` | :ref:`pressed<class_OptionButton_theme_style_pressed>`                         |                                  |
+---------------------------------+--------------------------------------------------------------------------------+----------------------------------+

信号
----

.. _class_OptionButton_signal_item_focused:

- **item_focused** **(** :ref:`int<class_int>` index **)**

当用户使用 ``ui_up`` 或 ``ui_down`` 操作导航到一个项目时发出。所选项目的索引作为参数传递。

----

.. _class_OptionButton_signal_item_selected:

- **item_selected** **(** :ref:`int<class_int>` index **)**

当用户更改当前项时触发。所选项目的索引作为参数传递。

属性说明
--------

.. _class_OptionButton_property_selected:

- :ref:`int<class_int>` **selected**

+-----------+----------------+
| *Default* | ``-1``         |
+-----------+----------------+
| *Getter*  | get_selected() |
+-----------+----------------+

当前选定项的索引，如果没有选定项，则为\ ``-1``\ 。

方法说明
--------

.. _class_OptionButton_method_add_icon_item:

- void **add_icon_item** **(** :ref:`Texture<class_Texture>` texture, :ref:`String<class_String>` label, :ref:`int<class_int>` id=-1 **)**

添加一个项，带有\ ``texture``\ 图标，文本\ ``label``\ 和(可选的)\ ``id``\ 。如果没有传入\ ``id``\ ，该项的索引将被用作其id。新项将被添加至末尾。

----

.. _class_OptionButton_method_add_item:

- void **add_item** **(** :ref:`String<class_String>` label, :ref:`int<class_int>` id=-1 **)**

添加一个项，带有文本\ ``label``\ 和(可选的)\ ``id``\ 。如果没有传入\ ``id``\ ，该项的索引将被用作其id。新项将被添加至末尾。

----

.. _class_OptionButton_method_add_separator:

- void **add_separator** **(** **)**

将分隔符添加到项目列表中。分隔符有助于对项目进行分组。分隔符也占用索引，并被附加在末尾。

----

.. _class_OptionButton_method_clear:

- void **clear** **(** **)**

清除\ ``OptionButton``\ 中的所有项目。

----

.. _class_OptionButton_method_get_item_count:

- :ref:`int<class_int>` **get_item_count** **(** **)** |const|

返回OptionButton中的项目数量，包括分隔符。

----

.. _class_OptionButton_method_get_item_icon:

- :ref:`Texture<class_Texture>` **get_item_icon** **(** :ref:`int<class_int>` idx **)** |const|

返回索引\ ``idx``\ 处项目的图标。

----

.. _class_OptionButton_method_get_item_id:

- :ref:`int<class_int>` **get_item_id** **(** :ref:`int<class_int>` idx **)** |const|

返回索引\ ``idx``\ 处项目的ID。

----

.. _class_OptionButton_method_get_item_index:

- :ref:`int<class_int>` **get_item_index** **(** :ref:`int<class_int>` id **)** |const|

返回带有给定\ ``id``\ 的项的索引。

----

.. _class_OptionButton_method_get_item_metadata:

- :ref:`Variant<class_Variant>` **get_item_metadata** **(** :ref:`int<class_int>` idx **)** |const|

检索项的元数据。元数据可以是任何类型，并可用于存储关于项的额外信息，如外部字符串ID。

----

.. _class_OptionButton_method_get_item_text:

- :ref:`String<class_String>` **get_item_text** **(** :ref:`int<class_int>` idx **)** |const|

返回索引\ ``idx``\ 处项目的文本。

----

.. _class_OptionButton_method_get_popup:

- :ref:`PopupMenu<class_PopupMenu>` **get_popup** **(** **)** |const|

返回这个按钮中包含的 :ref:`PopupMenu<class_PopupMenu>`\ 。

\ **警告：**\ 这是一个必需的内部节点，移除和释放它可能会导致崩溃。如果你想隐藏它或它的任何子节点，请使用其 :ref:`CanvasItem.visible<class_CanvasItem_property_visible>` 属性。

----

.. _class_OptionButton_method_get_selected_id:

- :ref:`int<class_int>` **get_selected_id** **(** **)** |const|

返回所选项目的ID，如果没有选择项目，则返回\ ``0``\ 。

----

.. _class_OptionButton_method_get_selected_metadata:

- :ref:`Variant<class_Variant>` **get_selected_metadata** **(** **)** |const|

获取选定项的元数据。可以使用\ :ref:`set_item_metadata<class_OptionButton_method_set_item_metadata>`\ 设置项的元数据。

----

.. _class_OptionButton_method_is_item_disabled:

- :ref:`bool<class_bool>` **is_item_disabled** **(** :ref:`int<class_int>` idx **)** |const|

如果索引\ ``idx``\ 项被禁用，返回\ ``true``\ 。

----

.. _class_OptionButton_method_remove_item:

- void **remove_item** **(** :ref:`int<class_int>` idx **)**

移除索引\ ``idx``\ 处的项目。

----

.. _class_OptionButton_method_select:

- void **select** **(** :ref:`int<class_int>` idx **)**

按索引选择项并使其为当前选中项。即使该项是禁用的，这也将起作用。

----

.. _class_OptionButton_method_set_item_disabled:

- void **set_item_disabled** **(** :ref:`int<class_int>` idx, :ref:`bool<class_bool>` disabled **)**

设置是否禁用索引\ ``idx``\ 项。

禁用的项目在下拉列表中绘制的方式不同，用户无法选择。如果当前选定的项目被设置为禁用，它将保持选中状态。

----

.. _class_OptionButton_method_set_item_icon:

- void **set_item_icon** **(** :ref:`int<class_int>` idx, :ref:`Texture<class_Texture>` texture **)**

设置在索引\ ``idx``\ 处项的图标。

----

.. _class_OptionButton_method_set_item_id:

- void **set_item_id** **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` id **)**

设置在索引\ ``idx``\ 处项的ID。

----

.. _class_OptionButton_method_set_item_metadata:

- void **set_item_metadata** **(** :ref:`int<class_int>` idx, :ref:`Variant<class_Variant>` metadata **)**

设置项的元数据。元数据可以是任何类型，可以用来存储关于项目的额外信息，比如外部字符串ID。

----

.. _class_OptionButton_method_set_item_text:

- void **set_item_text** **(** :ref:`int<class_int>` idx, :ref:`String<class_String>` text **)**

在索引\ ``idx``\ 处设置项的文本。

Theme Property Descriptions
---------------------------

.. _class_OptionButton_theme_color_font_color:

- :ref:`Color<class_Color>` **font_color**

+-----------+----------------------------------+
| *Default* | ``Color( 0.88, 0.88, 0.88, 1 )`` |
+-----------+----------------------------------+

``OptionButton``\ 的默认文本\ :ref:`Color<class_Color>`\ 。

----

.. _class_OptionButton_theme_color_font_color_disabled:

- :ref:`Color<class_Color>` **font_color_disabled**

+-----------+---------------------------------+
| *Default* | ``Color( 0.9, 0.9, 0.9, 0.2 )`` |
+-----------+---------------------------------+

当\ ``OptionButton``\ 被禁用时使用的文本\ :ref:`Color<class_Color>`\ 。

----

.. _class_OptionButton_theme_color_font_color_focus:

- :ref:`Color<class_Color>` **font_color_focus**

+-----------+----------------------------------+
| *Default* | ``Color( 0.94, 0.94, 0.94, 1 )`` |
+-----------+----------------------------------+

当\ ``OptionButton``\ 获得焦点时使用的文本\ :ref:`Color<class_Color>`\ 。只替换按钮的正常文本颜色。禁用、悬停和按下状态优先于这个颜色。

----

.. _class_OptionButton_theme_color_font_color_hover:

- :ref:`Color<class_Color>` **font_color_hover**

+-----------+----------------------------------+
| *Default* | ``Color( 0.94, 0.94, 0.94, 1 )`` |
+-----------+----------------------------------+

当鼠标悬停\ ``OptionButton``\ 时使用的文本\ :ref:`Color<class_Color>`\ 。

----

.. _class_OptionButton_theme_color_font_color_pressed:

- :ref:`Color<class_Color>` **font_color_pressed**

+-----------+-------------------------+
| *Default* | ``Color( 1, 1, 1, 1 )`` |
+-----------+-------------------------+

当\ ``OptionButton``\ 被按下时使用的文本\ :ref:`Color<class_Color>`\ 。

----

.. _class_OptionButton_theme_constant_arrow_margin:

- :ref:`int<class_int>` **arrow_margin**

+-----------+-------+
| *Default* | ``2`` |
+-----------+-------+

箭头图标和按钮的右边缘之间的水平空间。

----

.. _class_OptionButton_theme_constant_hseparation:

- :ref:`int<class_int>` **hseparation**

+-----------+-------+
| *Default* | ``2`` |
+-----------+-------+

``OptionButton``\ 图标与文本之间的水平间距。

----

.. _class_OptionButton_theme_font_font:

- :ref:`Font<class_Font>` **font**

``OptionButton``\ 的文本的\ :ref:`Font<class_Font>`\ 。

----

.. _class_OptionButton_theme_icon_arrow:

- :ref:`Texture<class_Texture>` **arrow**

要绘制在按钮右侧的箭头图标。

----

.. _class_OptionButton_theme_style_disabled:

- :ref:`StyleBox<class_StyleBox>` **disabled**

当\ ``OptionButton``\ 被禁用时使用的\ :ref:`StyleBox<class_StyleBox>`\ 。

----

.. _class_OptionButton_theme_style_focus:

- :ref:`StyleBox<class_StyleBox>` **focus**

当\ ``OptionButton``\ 被聚焦时使用的\ :ref:`StyleBox<class_StyleBox>`\ 。它显示在当前的\ :ref:`StyleBox<class_StyleBox>`\ 上，所以使用\ :ref:`StyleBoxEmpty<class_StyleBoxEmpty>`\ 将只是禁用焦点的视觉效果。

----

.. _class_OptionButton_theme_style_hover:

- :ref:`StyleBox<class_StyleBox>` **hover**

当\ ``OptionButton``\ 被鼠标悬停时使用的\ :ref:`StyleBox<class_StyleBox>`\ 。

----

.. _class_OptionButton_theme_style_normal:

- :ref:`StyleBox<class_StyleBox>` **normal**

``OptionButton``\ 的默认\ :ref:`StyleBox<class_StyleBox>`\ 。

----

.. _class_OptionButton_theme_style_pressed:

- :ref:`StyleBox<class_StyleBox>` **pressed**

当按下\ ``OptionButton``\ 时使用的\ :ref:`StyleBox<class_StyleBox>`\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
